　　　this paper explores methods for inferring motion of a cylindrical object from an image sequence. a local shading analysis method segments each image into spherical  cylindrical  and planar 'surfaces. the cylindrical surface is characterized with a direction of generating lines determined from spatial derivatives in the image. an extended reflectance map method is applicable to estimate gradients of base in consecutive frames if the lighting conditions are known. 
　　　another approach to inferring of motion is to use shape information which needs an additional constraint. if two planes of the object are hot parallel  then the finding of correspondence between frames is easy. for the case of parallel planes  we introduce an additional assumption that the planes are orthogonal to the generating lines. this strong constraint  is not sufficient for determining the surface normals from single view. the orthogonality also gives another constraint between a change in area of the base plane and that in length of generatling fine from the first to the second frames. thus iwe can estimate orientations of the bcise plane from two views  finally  motion parameters are estimated by correlating two shapes of the base boundary mapped from the two views. 
1. introduction 
　　　this paper explores methods for inferring motion of a cylindrical object  one  of the most familiar shape classes'for us  from an image sequence. 
　　　recent studies on computer vision have exploited methods for interpreting changes in am image sequence as motion in 1-d space. most methods find correspondence of feature points between frames and reconstruct 1-d structure of rigid objects  ullman  l1  nagel  1 . the correspondence problem  however  is difficult especially for curved objects if their surfaces are without any markings. 
　　　we investigate'methods for inferring motion of cylindrical object from two approaches. one is to analyze shading information to obtain the normals of surfaces which are useful for finding correspondecne of base planes.1 the local shading analysis  pentland  1  is hot applicable to estimate a normal at a point on a cylindrical surface if * lighting conditionsi are unknowni with knowledge of the lighting conditions  we can determine motion between frames by an extended reflectance map method. 
　　　another approach to inferring of motion is to use shape information. the method also needs an additional constraint. a trivial case is that two planes of the object are not parallel. we cin easily determine correspondence of three points on the object between frames. 
　　　difficulties in finding of correspondence appear when the two planes are parallel. since we do not know orientation of the base plane  it is difficult to find correspondence of any point oh the plane except its centroid if the boundary is smooth. we introduce an assumption that the two planes are; orthogonal to the generating lines  because many man-made objects satisfy this condition. this strongly constrains the surface normals of the object  but it is not sufficient to determine the normals. the orthogonality  however  gives another constraint between a change in area of the base plane and that in length of generating line from the first to the second frames. thus  we can estimate orientations of the base plane in the two frames  and the motion parameters are determinable. the method is robust   because reliable parameters such as areas of base plane and lengths and directions of generating line in the two frames are used. 
1. basic assumptions 
　　　computational analyses in this- paper assume the following four conditions. 
 1  the projection from scene to image is orthographic. 
 1  the scene contains a moving rigid object. 
 1  the object has a cylindrical and planar surfaces. here  a cylindrical surface is defined as a surface covered with parallel lines  generating lines  i passing through a closed curve. 
　　　we can segment an image projected from la scene containing unknown shaped objects into spherical  cylindrical  and planar surfaces if  1  is assumed.that is  we can test whether  1  is true or not.  1  the surface is lambertian and of a constant albedo. the distribution of illumirianation is constant  a distant point source illumiriant . 
1. shading analysis 
　　　pentland presented an interesting computational analysis of local shading without knowledge of lighting conditions  pentland  1 . it gives an estimate of surface orientation for an umbrical  with equal principal curvatures  point on a lambertian surface  and also identifies whether the .surface is planar  singly or doubly curved at each point. 
　　　we use this algorithm for segmentation of image to find each surface  and its property; spherical  cylindrical  or planar one. figures 1 show examples of input images  1 by 1bit digital images of a moving cylindrical object synthesized by cbmputer  and figure 1 is the result of analysis of figure 1  a . from this picture we get information that the object has a cylindrical and a planar surfaces. also another important feature of cylindrical surface; a direction of generating lines in image  is obtained. 
　　　if the orientation of the base plane is known  we can estimate the shape of the base by mapping its contour in image onto a plane  parallel to the base. thus  we can find correspondence of each point on the boundary of the base between consecutive frames from which motion in 1-d space is determinable. 
if analysis of shading can determine the normals 
　　　
m. asada and s. tsuji 1 

　　　
fig. i input images. 
of cylindrical surfaces  they constrain the orientation of the base plane. the local shading analysis  however  cannot estimate surface normal of a point on a cylindrical surface without knowledge'of lighting conditions. the detailed discussions appear in a companion paper  asada and tsuji  1 . 
	if we 	know three parameters of illuminant 
 albedo times illuminant intensity and two parameters of illumiriant direction   the surface normal is determinable by the local shading analysis. an alternative approach is possible under these conditions; an extension of the reflectance map technique proposed by horn  horn  1 . now we examine relations between orientations of cylindrical surfaces and the base plane the analysis in the gradient space for investigating orientations of three planes which meet at a fork joint is also useful to our case. figures 1 show an image of cylindrical object and the gradient space representing orientations of surface patches of the object. since we have found generating lines  the cylindrical surface in image is segmented into surface strips containing each generating line. let gi be a point in p-q plane representing the gradient of base plane. we select two arbitrary surface strips on the cylindrical'surface and denote corresponding points in p-q plane asig1 and g.1 . these three points are constrained by directions of three lines; a generating line and two tangents of the base boundary at the cross points of the selected surface strips. thus  we need to know three unknowns  the location and size of the triangle gig1  to determine these surface normals. by utilizing intensity values of the surface strips and the base  these normals are determinable  horn  1 . the computation  however  is rather complex  because we need to find locations and  b  fig.1 the result of surface classfication for fig.1 a . 
sizes of triangles of which vertices are exactly located on conic curves specified by reflectances of surfaces and the lighting conditions. 
　　　we propose a much simpler method to determine the orientations. first  the brightest generating line in the cylindrical surface is found and its intensity is measured. its gradient is determined in ip-q plane as points of contacts of lines with a conic curve specified by the intensity value in the reflectance map. the direction of the tangents are given as orthogonal to the generating lines. therefore  the  gradient of the base plane is obtained as cross points of a conic curve with the sarne reflectance as base and lines from the gradients of the brightest generating lines in p-q space. the lines are orthogonal to the base boundary at the brightest generating line in the image plane. 
　　　the companion paper  asada and tsuji  1  shows how we can estimate albedo times illuminant intensity if the illuminant direction is known. this paper does not exploit the shading analysis further. the following section discusses on methods for inferring motion from shape information; the direction of generating line and the boundary of base in the image.! 
1. inferring motion from shape information 
　　　at first we consider a simple case for which correspondece of points between frames is easily established. if two planes of cylinder are not parallel  we can find the longest  or shortest  generating line from the image. thus  we can establish correspondence' of three points  two end points of the longest generating line and the centroid of a ivisible plane  between 
consective frames  and: the motion of object in 1-d space is determinable from three views  nagel  1 . 
q g 1 m. asada and s. tsuji 
　　　now  we deal with more complex case; the two planes are parallel and finding of correspondence' is difficult. as described in i the previous section three unknowns are undetermined without knowing the lighting conditions. therefore  we need an additional constraint to estimate the orientations. let introduce an additional assumption that the planes are orthogonal to generating lines. the orthogonality gives two constraints  thus one unknown is left undermined. the analysis in the gradient space becomes very simple  see figure 1 . a point representing the orientation of the base plane in p-q plane is on a line passing through the origin with the same slope of the generating line in the image plane. the undetermined unknown is the slant of the base plane  or a generating line  to the image plane. if we know the slant  the 1-d geometry of the object is completly determinable. 
　　　note that the additional strong constraints are not sufficient to determine the 1-d shape of the cylindrical object from single view. we can  however  determine the shape from two views. a l  and a 1   areas of the base plane and 1  and 1   lengths of generating line in the image in the first and second frames are measured. their changes give us very useful information. since we assume the orthogonality of generating line to base plane  there are strong constraints between these values. simple computation yields the following relation  

where  1  is the surface slant of base at the first frame. thus the normal of base plane is uniquely determined. 
from this information  we can map the contour of base onto a plane parallel to it in order to determine its shape. by correlating two mapped shapes of the base from the two views  we can establish correspondence of each point on the boundary of the contour between two frames. therefore  the 1-d motion parameters are completly determined. 
　　　figures 1 give the result of applying the method to the input images of figures 1. figures 1  c  and  d  show the mapped contours from the images  and  f  displays how these two contours are correlated. the good coincidence' of two curves in shape means the precise correspondence between the two frames is established. the proposed method is robust because we use much more reliable shape parameters such as area of base and direction and length of generating line than intensity 

fig. 1 necessary condition for the orthogonality. 
value of each point used in the usual shape from shading method. thus  the estimated orientation has only a small amount of error  less than one degree for the synthesized images. 
　　　generally speaking  we do not know whether the base is orthogonal to the cylindrical surface. a simple necessary condition for the orthogonality is obtained under - a condition that the cylindrical surtace is approximated locally as a circular cylindrical surface.' if the circular cylindrical surface is orthogonal to the base  the line connecting a  the point of contact and o  the center of circle is also orthogonal to the occluding boundary ab in the image as hown in figure 1  a . that is  the proposed method is not applicable if the input image sequence contains any frame in which the angle bao is far from 1 degree as shown in figure 1  b . 
the angle gives another constraint between the surface normals of object  but two unknowns per frame are left undetermined. 
1. discussions 
　　　we have explored methods for inferring motion of cylindrical object from an image sequence. the shading analysis needs to know the lighting conditions to estimate surface normals. we argue the method is not reliable even if we have such information. 
　　　analysis of shape information also needs an additional assumption  to determine the surface normals. if the planes are not parallel  it is easy to establish correspondence by finding the longest generating line. for the parallel case  we introduce an assumption that many man-made objects satisfy  the orthogonality of base to generating line. this constrains the surface normals and we can determine them from two views. the method is robust because we use only reliable parameters. also we do not need the basic assumption  1  is strictly true. the shading analysis is only for classifying the regions and finding the direcitions of generating lines. 
