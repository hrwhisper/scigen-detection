this paper reports a domain ontology-driven approach to data mining on a medical database containing clinical data on patients undergoing treatment for chronic kidney disease. each record within the dataset is comprised of a large number  up to 1  of quantitative and qualitative metrics which represent the physiological state of a particular patient on a particular day of treatment. one of the challenges of mining such a dataset is that the meaning of many of the metrics/attributes is not easily understood by someone who is not familiar with the domain of kidney disease and treatment  and it is not clear which of the attributes are useful in data mining.
this paper explores the possibility of utilizing a medical domain ontology as a source of domain knowledge to aid in both extracting knowledge and expressing the extracted knowledge in a useful format. we describe an approach in which the domain ontology is used to categorize attributes in preparation for mining 'association rules' in the data; the mined rules were then reviewed by comparison to domain knowledge derived from a domain expert in order to gauge their 'usefulness'. we conclude that domain ontology driven data mining can obtain more meaningful results than na¡§ ve mining.
1.	introduction
mining clinical datasets is challenging to a data miner who has no medical knowledge  firstly because data preprocessing normally requires some understanding of the domain for effective feature selection - for example  duplicate meaning among variables indicates that only one of the variables should be used; multiple records of a individual pa-
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise  to republish  to post on servers or to redistribute to lists  requires prior specific permission and/or a fee.
1 acm sigkdd workshop on domain driven data mining  dddm1   august 1  1  san jose  california  usa.
copyright 1 acm x-xxxxx-xx-x/xx/xx ...1-1-1/1...$1.$1.
tient should be aggregated; irrelevant or low importance attributes should be ignored; and secondly  interpretation of the data mining results is always dependent to some extent on domain knowledge. selecting meaningful features as input is critical for avoiding results such as the finding  there is a high correlation between individual identification number and age.  - but some amount of domain knowledge is also required for us to know that this correlation is meaningless.
the application of machine-understandable knowledge in data mining has been recognized as a gap in current data mining practice . broadly speaking  there are two kinds of knowledge that are involved in a knowledge discovery process: data mining knowledge and domain knowledge. data mining knowledge includes the knowledge about data mining algorithms  how they can be used  parameters tuning  and formats of input data and so on. domain knowledge includes the understanding of a dataset  relationships among variables  normal range of variables  known causal relations and so on. the perspective of essential knowledge in knowledge discovery is depicted in fig. 1 and its explanation is listed in table 1. this study regards domain ontology as a particular representation of domain knowledge and aims to verify the use of ontology in data mining  specifically for rendering extracted relationships in a more 'knowledge'-like form.
an ontology captures the domain concepts and their relations; therefore  it provides an alternative knowledge source than domain experts. there are many growing  large scale and shared ontologies which have been developed and utilized in various ways for helping the automation of data mining.  applies ontology for feature generation in constructive induction. the ontology is used as a basis for feature generation. each generated feature corresponds to a concept created from the ontology.  try to reduce the amount of time required of a domain expert by starting with data in a database and inferring facts and relations about the variables using an underlying ontology. their system scans new databases to obtain type and constraint information then uses this information in the context of a shared ontology to intelligently guide the potentially com-

binatorial process of feature construction. another usage of ontology is studied in . they study the use of medical ontology and other background knowledge into the process of association mining. they use umls  unified medical language system  which provides terminological ontology to semantically group up variables. the grouped variables then can decompose general mining task into more specific tasks. presumably  the mined hypotheses entering the evaluation phase will be smaller and homogeneous  hence easier to examine for a human evaluator.
this study examines the use of ontology for data understanding and selecting meaningful input variables . this study confirms the use of ontology for obtaining smaller and more homogeneous results so that it would be easier to be examined by a human evaluator. section 1 explains the way of using medical ontology in this experiment and section 1 introduces a new measurement of association rules which is used in this study. section 1 reports the input data  the procedure of this experiment and the results in detail. finally  section 1 wrap up this paper in a discussion.
table 1: examples of different knowledge sources
knowledge sourceexamplemetadata¡Éthe variable 'date of commencementdomainknowledgeof renal replacement therapy' is a feature of the entry 'transplant' in the 'treatment modality' variable.metadata¡Écoronary artery disease is a kind ofdomainontologycardiovascular disease.problemrelated¡Écardiovascular disease is highlydomainknowledgeprevalent in renal transplant patients.problemrelated¡Étransplantation belongs to thedomainontologysemantic type:
therapeutic or preventive procedure.domainknowledge why diabetes is a risk factor forproblemrelatedchronic kidney failure metadata¡É
dm knowledge'age' is a numeric variable.metadata¡É
dm ontologynumeric variables could be discretized.problemrelated¡Épatients have different number ofdm knowledgerecords which may span over 1 years.dm knowledge 
problemrelatedhow to build a decision tree problemrelated a patient is a person and if adomainknowledge person is dead  he will have nodm knowledgefurther records.1.	the use of ontology
the role of medical ontology in association mining has been discussed in  which covers the complete lifecycle of knowledge discovery and this study focus on the use of ontology in the step of data preparation. the medical ontology base which is used in this study is unified medical language system  umls 1. it is a controlled compendium of many vocabularies which also provides a mapping structure between them. there are three components in umls: metathesaurus  semantic network and specialist lexicon. this study uses only metathesaurus for querying the definition of a terminology and its semantic type.
1	data preparation:
variable categorization
the reason of performing variables categorization is that not all associations between variables are meaningful even though they are statistically valid. for example  there may be a valid association between 'deceased' and 'dieofcancer' but they are meaningless. instead of solving this problem by post-processing  we adopt the idea of categorizing variables into semantic groups in data preparation . for example  'diabetes' and 'chroniclungdisease' belong to the group of 'disease or syndrome.' with semantic groups  higher level associations can then be defined over these groups. for example  behavior ¡ú disease is valid but procedure ¡ú procedure is invalid. furthermore  the irrelevant variables can be determined at this level of categorization. for example  the variables in the semantic type of 'record tag' are regarded as irrelevant to the class attribute  table 1 .
categorizing variables requires the presence of domain knowledge  such as the involvement of domain experts. however  domain experts are not always available during a data mining task. a domain ontology is another source of domain knowledge which could provide semantic types for concepts.
procedure
the definitions of variables consist of one or more sentences. some of them could be resolved easily such as  dod = date of death; added to all entries.  because 'date of death' could be queried from umlsks1 as finding semantic type. however  some of the definitions could not directly queried such as  mideath = death from myocardial infarction: 1=alive or non-mi death; 1=mi death...  because 'death from myocardial infarction' does not exist in the umls concepts. this study solves this problem by finding similar concepts in umls for example 'death from overwork'   finding and 'death from myocardial infarction' is similar to 'death from overwork' then categorize 'death from myocardial infarction'   finding.
this procedure is processed manually because of two reasons. first  natural language processing is out of the scope of this study. however  there might be suitable tools for automatically mapping variable definitions into concepts from the umls metathesaurus such as metamap transfer1. second  not every definition has its corresponding concept in umls. in this case  designing an autonomous mechanism for handling this problem is also out the scope of this study.
1.	the measurement of association rules
instead of adopting the conventional measurement: confidence and support for association rules. this paper presents a different measurement which is inspired by  because we need a more compact measurement for association rules.

figure 1: a venn diagram of different kinds of knowledge involve in knowledge discovery. centered at the metadata of dataset  hatched circle   there is a broader problem related knowledge circle which covers boththe association rule  ar  is here understood as an expression  where a and s are derived boolean attributes. a and s are called antecedent and consequent respectively where they are conjunction or disjunction of literals. a literal is a boolean variable which corresponds domain and data mining knowledge.
to a pair of  variable value  in the dataset. for example  a =  hypertension y es  ¡Ä  modality transplant . the expression can be interpreted as  the occurrence of a is highly associated with the occurrence of s. 
for defining the measurement of association rules  a fourfold table for data analysis is introduced in table 1. here a is the number of objects satisfying both a and s  b is the number of objects satisfying a but not satisfying s  c and d are defined in the similar way. the confidence of a and  a are defined as  and  respectively. the
'compared implication' which is used in this experiment is defined as
	.	 1 
the interpretation ofis  the probability of p s | a  is  1¡Á¦È % times higher than p s |  a .  for example   the probability of p  cancer no  |  diabetes y es   is
 1 ¡Á ¦È % times higher than p  cancer no  |   diabetes y es  . 
the conditional association rule is defined as   where c is the condition that a and s need to satisfy. for
example    means  for male patients who are over 1 years old .  table 1: four-fold table for data analysis.
1fts saab acdto the author's knowledge  the measurement: 'compared implication' has not been used before.
example
the measurement of association rules  ¦È  is designed to calculate the difference of implication between an antecedent and its opposite: a and  a. it is different from conventional measurement  confidence and support  and the measurements described in . table 1 shows a pseudo data for explaining the idea of ¦È. this data satisfies support = 1% and confidence = 1% for this association rule a ¡ú s; 'founded implication' = 1 and 'double founded implication' ¡Ö 1 which are defined in . whilst this pseudo data is significant under these measurements  the confidence of a ¡ú s and  a ¡ú s are both 1% which indicates the occurrence of s is evenly distributed regardless of a. in this case ¦È = 1 means that this data is not significant.
table 1: four-fold table of a pseudo data.
1fts sa1 a1there are  of course  situations that lead to ¦È   1  ia   i a. when the variables of a or s are boolean variables  there will be equivalent associations with ¦È   1. for example   diabetes no    cancer no  |¦È= 1 is equivalent to  diabetes y es    cancer no  |¦È=1. when the variables of a and s are consisted of multiple categories  there might be no counterpart of associations with ¦È   1. however  this study does not consider this kind of possibility.
1.	experiment
this experiment is designed to discover two levels of association rules because we anticipate gauging the usefulness of the result by comparing them with already known associations which are derived from a domain expert. there are two already known associations in chronic kidney disease:
  diabetes  type1 type1   ¡ú cardiovasculardeath
  smoking  ¡ú cardiovasculardisease  ¡ú cardiovasculardeath
because 'risk factor' is widely used in the medical domain and is concise  this experiment focus on finding association rules with only one literal on the left hand so that the mined rules would appear more familiar to a domain expert. although the criterion of association rules  ¦È  is different from the measurement which is used in the epidemiology  they share a same statistical sense; the 'attributable risk' in epidemiology is defined as ia i a. the succeeding paragraph will use the term 'risk factor' to denote the antecedent literal of an association rule.
this experiment is conducted in the following steps:
1. data understanding. the data miner identifies the key record tags of the dataset and ticks off redundant variables with the help from umls.
1. data preparation. the variables are categorized into semantic groups. all the different records of each patient are aggregated into one record. some numerical and time varying variables are averaged.
1. association mining. find the associated antecedents for s =  cardiovasculardeath y es  with ¦È   1 under the condition c =  aliveordead deceased .
1. association mining. set the antecedents found in step 1 as new class variables and perform association mining again to find their antecedents with ¦È   1 and c =  . this step will produce second level associations so that we can compare the result with known associations.
the parameter of ¦È is adjusted manually so that the two already known associations could be discovered. the mining of associations is guided by these semantic groups:
  disease or syndrome  ¡ú finding death 
  disease or syndrome  ¡ú disease or syndrome
  clinical attribute  ¡ú disease or syndrome
  finding except death   ¡ú disease or syndrome
  procedure  ¡ú disease or syndrome
  behavior  ¡ú disease or syndrome
  health care activity  ¡ú disease or syndrome
1	dataset
the clinical dataset is from australia and new zealand dialysis and transplant registry  anzdata1  which collects 1 records of 1 kidney disease patients spanning 1 years. the anzdata is collected by survey form for each dialysis and transplant patient at yearly intervals or real time entry for special events via the internet.
there are 1 variables in this dataset and many variables have overlapping definitions which stand for original code and baseline code. for example  there are two variables which denote cancereverdiagnosed with different codes. these 1 variables are either categorical or numerical and some of them encode richer terminologies in their values. for example  the definition of treatmentmodality is: 1=haemodialysis; 1=peritoneal dialysis; 1=transplant graft ; 1=return of native function; 1=loss to follow up. among all the 1 variables of 1 patient  1% entries are either empty or sparse and 1% entries are time varying.
1	variables grouping
there are 1 variables in which 1 variables have no definitions. the remaining 1 defined variables are categorized via the help of umls  table 1 . six of the seven categorized groups are defined in the umls. they are 'clinical attribute ' 'finding ' 'procedure ' 'disease or syndrome ' 'behavior ' and 'health care activity.' the 'record tag' group is not recorded in umls but essential for data preprocessing and transforming. the semantic type 'finding' is defined as which is discovered by direct observation or measurement of an organism attribute or condition  including the clinical history of the patient.
1	result
there are 1 risk factors found for cardiovascular death  table 1 . the interpretation for the first risk factor is  for patients who are already deceased  those who have never diagnosed with cancer are 1% times higher to die of cardiovascular disease than those who have ever diagnosed with cancer.  the full association tree is shown in fig. 1. the leftmost part is the risk factors of 'no cancer ' 'coronary artery disease ' 'diabetes ' and 'history of hypertension' respectively. from top to bottom  the risk factors are sorted in descending order according to ¦È. notably  this result successfully identifies the two known associations in chronic kidney disease that diabetes  ¡ú cardiovasculardeath; smoking  ¡ú cardiovasculardisease  ¡ú cardiovasculardeath.
for comparison  an association mining is performed on data without variable categorization. the result is shown in table 1. the first risk factor  'circulatory death ' is a synonym of cardiovascular death and the second risk factor  'death from heart failure ' is co-existing with cardiovascular death. the obesity related findings: 'base weight ' 'body mass index ' and 'weight at entry' are not directly related to cardiovascular death. actually obesity is a risk factor of some diseases such as diabetes  type 1 .
1.	discussion
this experiment confirms the usefulness of the use of ontology in guiding data mining by variable categorization. during this experiment  the problems which need knowledge or expertise are listed in table 1. the third problem in the transforming step happens when the values of a variable are specific medical terminologies. for example  the variable 'disease' has entries: 'diabetes  polycystic kidney disease  renovascular disease  reflux nephropathy' and etc. because the process of variable categorization is performed for variables  we need this kind of entries being appended as new variables. according to table 1  ontology is helpful in solving duplicate meaning among variables and discriminating irrelevant variables in data preprocessing step. ontology is also helpful in identifying terminologies within entries and identifying synonyms in the result interpretation step.


figure 1: result of mining risk factors of cardiovascular death table 1: variables of anzdata.
categoryvariablesrecord tagindividual identification numberresults of latest mergesequence of entriesdate of entry of informationtotal number of entriesclinical attributeage at death  1 variables quartiles of age for patientsage at first dialysisbody mass indexweight  1 variables date of commencement of renal replacement therapyheight at entry in metersrace origin  1 variables late referral  1 variables genderfindingall-cause mortalitycancer ever diagnosed  1 variables cardiac deathcause of death  1 variables circulatory deathcardiovascular deathcause of esrd  1 variables graft function at time of death  1 variables death from myocardial infarctionurea reduction ratiodate of birthdate of deathprocedurerenal biopsy  1 variables dialysis related  1 variables pet testdisease or syndromecoronary artery disease  1 variables cerebrovascular disease  1 variables diabetes  1 variables including type i and ii hypertension  1 variables polycystic kidney diseaserenovascular diseasereflux nephropathychronic lung disease  1 variables peripheral vascular disease  1 variables any vascular disease  1 variables behaviorsmoking  1 variables health care activitytreatment modality  1 variables transplant related 1 variables attributevalue¦Ècirculatory deathcirculatory	system death1death from heart failuredeath due to hf1cancer ever diagnosedno1dialysis access used at first haemodialysisnon-tunnel	cv
catheter1graft functioning at time of deathnot with functioning
graft1base weight1¡«1  kg 1dialysis pump speed1¡«1  ml/min 1racial originmaori1body mass index1¡«11weight at entry1¡«1  kg 1caused of esrddiabetes1likelihood	of	transplant1¡«11coronary	artery	dis-
easeyes1body mass index1¡«11diabetesyes1any vascular diseaseyes1hypertensionhistory of hypertension1racial originaborigine or tsi1dialysis hours per session1¡«1  hr 1diabetes  type 1yes1table 1: the result of risk factors of cardiovascular death without variable categorization.
table 1: the result of risk factors of cardiovascular death with variable categorization.
hypertensionhistory of hypertension1
in spite the helpfulness of domain ontology  it has limitation in many ways as being a source of domain knowledge. firstly  the interestingness and meaningfulness of results could not be derived from domain ontology. for example there is no means to compute the interestingness of this result:  if a patient has never diagnosed with cancer  he/she is highly likely to die of cardiovascular disease.  from umls. secondly  medical ontology such as umls does not contain causal relationships among concepts so that the found associations could not be further refined as causal relations. for example  fig. 1 shows diabetes coronaryarterydisease and coronaryarterydiseasediabetes  however  umls could not answer which one is the cause.
table 1: some of the problems encountered during mining anzdata.
stepproblemad hoc trickpreprocessingthe concept of a pa-
tientidentification numbermultiple records of a
patientname	of	vari-
able=sequenceduplicate	meaning among variablestick off; merge;irrelevant variablestick offtransformingnumerical datadiscretizationmeaningful	range	of
discretizationdomain knowledgeterminologies	within
entriesappend as new vari-
ablestime varying variablesaggregatedata miningdata formatdata transformingchoice	of	dm	algo-
rithmdm expertiseparameters tuningdm expertiseinterpretationmeaningless findingrefine input datasynonymousrefine input datain sum  this study demonstrates how data mining could be driven by medical ontology. the use of medical ontology for variable grouping is helpful for mining meaningful associations. however  how to evaluate and refine the mined associations is beyond the capability of the studied medical ontology. in response to this issue  domain knowledge should be captured into computable form for the evaluation of interestingness; this will be discussed in future research.
future research
there are three directions of future research: automation of variable categorization  interestingness evaluation and applying sequence mining. firstly  we suggest that the name of variables should be enriched as its meaning rather than abbreviations. for example  the variable name 'dod' should be replaced by 'date of death.' thus  we can query each variable from umls by its name directly. in case of unsuccessful queries  a similarity metric is needed to find similar concepts from umls.
secondly  in terms of interestingness evaluation  we would investigate the use of bayesian network for representing domain knowledge ; or acquiring user's domain knowledge via user's interactive feedback .
finally  this experiment reveals the insufficiency of data mining without temporal concepts in this domain  for example there is an association in the result:  patients who receive renal transplant are highly likely to have coronary artery disease.  however  this association overlook the temporal concepts which are necessary for making more correct judgment such as before  after and so on. for example this association would be more precise and interesting like this:  patients who have no coronary artery disease are highly likely to have this disease after renal transplant.  or  patients who are diagnosed with coronary artery disease are highly likely to receive renal transplant.  future research would investigate some sequence mining methods  such as
 1  1 .
1.	acknowledgment
special thanks are due to the constructive comments of the anonymous reviewers on the draft of this paper.
