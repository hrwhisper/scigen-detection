buyers and sellers in online auctions are faced with the task of deciding who to entrust their business to based on a very limited amount of information. current trust ratings on ebay average over 1% positive  and are presented as a single number on a user's profile. this paper presents a system capable of extracting valuable negative information from the wealth of feedback comments on ebay  computing personalized and feature-based trust and presenting this information graphically.
1 introduction
in 1  ebay inc. had an annual growth rate of 1% and in february 1 was receiving over three million user feedback comments every day. this growth reflects the increased access to online markets throughout the world. as a result of this rapid growth rate  users find themselves more frequently in the situation where they must trust a complete stranger to uphold their part of a business transaction. traditional mechanisms for evaluating the trust of a potential buyer or seller do not apply in the online world  where in many cases the only information provided is a buyer or seller's username and there are orders of magnitude more potential transactors.  in this paper we address the problem of providing a reliable mechanism for trusting users in online auctions. we argue that the current trust system on ebay is massively biased towards positive comments and show how auctionrules  a trust-extraction algorithm can be applied to the wealth of freetext comments to capture subtle indications of negativity  producing a more scaled range of trust based on the sentiment found in comments. to achieve this  the algorithm classifies freetext comments using a small list   1 nouns  of salient features in the domain. our evaluations show this algorithm outperforms seven popular classification algorithms by up to 1%.
모currently  ebay displays a non-personalized trust score for a potential transactor. we describe a trust propagation mechanism which uses output from auctionrules to generate personalized trust between two potential transactors. for demonstration purposes  we present a replica interface to a standard auction site in which trust between specific users and perfeature trust can be computed by auctionrules on the fly and visualized as a social network graph with edge length and thickness as functions of both strength and goodness of the trust relationship.
1 background research
background for this paper is in three main areas. firstly  we will examine related research in the area of trust and reputation in online environments. the core algorithm in this paper uses techniques borrowed from the field of natural language processing  nlp . next we discuss relevant work in this area of nlp. lastly  a brief examination of research on constructing and visualising social networks is presented.
1 trust and reputation on the web
a large amount of recent research has examined the varying notions of trust and reputation on the web.    marsh's work in  goes some way towards formalising trust in a computational sense  taking into account both it's social and technological aspects  defining  context-specific interpersonal trust  as the trust one individual must place in another with respect to a specific situation. this is the notion of trust examined in this paper. previous work by the authors in  examines trust and reputation in the context of recommender systems  wherein a user's history of contributions to the recommendation process was examined and used to weight future contributions.
모resnick highlights some relevant points which affect the current ebay reputation system in  and . buyers reputation matter less since they hold the goods until they are paid. feedback can be affected by the person who makes the first comment  ie: feedback can be reciprocated. retaliatory feedback and potential for lawsuits are strong disincentives for leaving negative comments. anonymity is possible in ebay since real names are not revealed and the only thing validated at registration is an email address. users can choose not to display feedback comments.  unpaid item  buyers cannot leave feedback   and users can agree to mutually withdraw feedback . furthermore ebay inc admit that negative feedback is removed from newer users of the system  all of these points help to explain the lack of negative comments on ebay. of course this does not mean that customers are satisfied. the ebay forums 1 highlight the fact that false advertising does occur on ebay. this should lead to more negative comments  but they are not being displayed. xiong et al.  provide further reasoning for the imbalance of positive comments on ebay. our proposed model of trust for ebay should provide a more realistic scale than the existing system.
1 classifying natural language comments
for many years research effort has been dedicated to the use of lexical techniques to classify free responses in areas ranging from online auctions  to movies  and for correcting students short-answer exams. . processing of freetext comments requires four main components  morphology  prefixes and suffixes   syntax checking  deciding on a semantic meaning and finally  taking some action based on that meaning. in this paper we are especially interested in the classification of comments with negative sentiment. yukari et al.  proposed a method to extract potentially unsatisfied customers by applying text mining to data from a customer satisfaction survey. this work introduced the idea of salient satisfaction factors as a mechanism for classifying negative comments. later in this paper a feature-based trust metric is introduced  which was inspired by work in . pang et al. attempt to classify freetext documents according to sentiment in   highlighting bad performance of machine learning algorithms such as na ve bayes and support vector machines in the task of sentiment classification. pang et al. conclude that classification of free text according to sentiment is a challenging problem. gamon et al address the same sentiment classification problem in   using data from car reviews. gamon et al. also applied machine learning techniques to this task and found poor performance. they developed a tailor-made clustering algorithm which uses a small amount of domain knowledge in the form of a stop-list and go-list of features known to be salient in the domain. the auctionrules algorithm described later in this paper defines small negative and positive lists in a similar manner to that in .
모gamon et al.  introduce the concept of varying the level of granularity during the classification procedure  finding that  varying the level of granularity of analysis allows the discovery of new information . the auctionrules algorithm can record finer grained information during classification  to present extra information to users.
모hijikata et al.  focus on summarization of freetext comments in online auctions  proposing a technique for analysing the underlying social networks in online auctions and using this information to present a summary of comments to users. in this work  the social network for their test data is defined by a crawler algorithm which takes all the feedback comments written by a buyer who wrote a comment for a target seller. as a result of this data crawling technique it appears that the data collected does not represent a natural social network  and if large portions of freetext data come from single individuals there is a potential for overfitting during computation. a web application is presented in  where users can see comment summaries represented as a set of bar charts for easy analysis.
1 construction and visualisation of social network graphs
as people conduct larger proportions of their daily business on the web  the ability to analyse the resultant social networks is becoming more important. technologies such as foaf  friend-of-a-friend  are becoming more popular in blogging communities  allowing users to directly specify their social networks. visualisation tools such as piespy   used later in this paper  allow for dynamic display and fast assessment of complex graphs. mitton  assesses a range of social networks mined from irc channels. golbeck uses social networks to compute trust scores and shows resulting visualisations derived from the filmtrust movie ratings website in
.
1 extracting trust from feedback comments
to address the problem of unnaturally high trust ratings on ebay  we look to the freetext comments and apply a classification algorithm tailored for capturing subtle indications of negativity in those comments. the situation arises frequently where users are afraid to leave a negative comment for fear of retaliatory feedback comments which could damage their own reputation. . in many of these cases  a positive feedback rating is made  but the commenter still voices some grievance in the freetext comment. this is the type of subtle but important information the auctionrules algorithm attempts to extract.
1 the auctionrules algorithm
auctionrules is a classification algorithm with the goal of correctly classifying online auction comments into positive or negative according to a threshold. auctionrules capitalizes on the restrictive nature of online markets: there are a limited number of salient factors that a user  buyer or seller  is concerned about. this is reflected in feedback comments. we define a set of seven core feature sets for which the algorithm will compute granular trust scores. the following sets have a coverage of 1% of the comments in our database. the algorithm can obtain semantic information from 1% of the comments at a fine grained level. it is shown in our experimental analysis how we can maintain over 1% coverage using this algorithm. the terms in brackets are contents of each feature set.
  item - the quality/condition of the product being bought or sold.  item  product 
  person - the person the user makes the transaction with.  buyer  seller  ebayer  dealer 
  cost - cost of item  cost of shipping  hidden costs etc.  expense  cost 
  shipping - delivery of the item  security  time etc.  delivery  shipping 
  response - communication with the other party  emails  feedback comment responses.  response  comment  email  communication 
  packaging - the packaging quality/condition of the item  packaging 
  payment - how the payment will be made to the seller  or back to buyer for return  payment 
  transaction - the overall transaction quality  service  transaction  business 
모this technique enables us not only to compute a personal trust score between individual users  but also to provide more granular information on a potential transactor. for example:  user x is very trustworthy when it comes to payment  but shipping has been unsatisfactory in the past   this granular or contextual trust draws on the wealth of information in comments and can uncover hidden problems which the current trust system on ebay might overlook.
모figure 1 details this algorithm working on a sample comment which had a positive rating on ebay. each term in the comment and up to four preceding terms are passed into an

implementation of the porter stemming algorithm . the standard porter stemmer uses many rules for removing suffixes. for example  all of the terms in c are conflated to the root term  connect . c = connect  connected  connecting  connection  connections. this reduces the number of terms and therefore the complexity of the data. the stemmer algorithm was modified to also stem characters not used by auctionrules  such as     !  *        for example.
모data dimension is reduced by removal of stop-words. google's stop-word list1 was used as the removal key. a future addition to the algorithm would put an automatic spelling corrector at this point. there were 1 different spelling occurrences of the word 'packaging' for example. each stemmed term is compared against the stemmed terms from the feature list. if a match is found the algorithm examines the preceding term types. this is shown graphically in figure 1. the algorithm recognises five term types:
  nouns the words contained in the feature sets.   adjectives  eg: 'nice'  'good'  from a web list
  intensifiers  e.g 'very'  'more'  list of 1.
  articles 'a' or 'the'
  negators  e.g. not  'anything but'  from a stored list.
모the table on the left in figure 1 shows the order in which these terms are analysed. from the five terms  two can provide semantic meaning about the feature: adjectives and negators. if an adjective is found without a negator  it is compared to an arrays 1 positive and an array of 1 negative adjectives. if a negator is found as the second or third preceding term  the process works with positive and negative arrays switched. if a match is found  the polarity for that feature is recorded.
모if no match is found  auctionrules uses query expansion  by calling an interface to an online thesaurus which returns an array of 1 synonyms. if a negator is present  the interface returns an array of 1 antonyms  and these lists are compared in a similar manner to our short lexicon of positive and negative adjectives. the matching results are recorded in three ways:
a  max pos neg  b  any neg  and c . in the case of
 c  the polarity is recorded according to a configurable threshold 붸. two separate trust databases are maintained: granular or contextual trust which is the trust computed for each feature for a user over all of the comments analysed. equation 1 shows contextual trust t as a multi valued set of trust scores associated with each feature. here  f denotes a particular feature and tfn is the associated trust score. the second trust database is interpersonal trust which is the average trust value recorded for all features on every comment made between two users.
모of course not every comment will contain words from the feature lists above. in cases where no features are found  the algorithm performs a straightforward count of positive and negative terms using the query expansion module where necessary. in this manner  coverage is maintained at over 1%  and many of the unclassifiable comments are foreign language or spelling mistakes.
1 personalizing trust by propagation
figure 1:	the auctionrules comment classification algo-
rithm.	interpersonal trust is given by equation 1. this is a person-
alised trust score between two users. if users have been di-


figure 1: visualizing the trust-network generated by auctionrules.  usernames have been obfuscated at the request of ebay inc. 
rectly involved in a transaction  this is simply the classifiers value of their transactions  a  b  or c above . equation 1 shows how these trust scores can be computed along a path connecting the two users. in equation 1  represents some combination of the scores at each node in the path between the target and source users. currently this can be any of the following four techniques below. the problem of combining values in the trust graph is a research in itself. this will be dealt with in more detail in a future work.
  weighteddistance - the average trust score over all the edges in the shortest path  discounted by the distance from the source.
  meanpath - the average trust score over all the edges in the shortest path between the source node and target node.
  twopathmean - the average of the meanpath of the shortest path in the graph and the meanpath of the second shortest path.
  shmpath - the simple harmonic mean of the trust scores over all edges in the shortest path.
tgranular붼{tf1 tf1 ...tfn} 1 ti n = ti j  tj k  ...  tm n 1 1 visualisation of trust information
before introducing our presentation strategy  we define two important metrics  firstly a scalar trust value which is represents trust either between two users  or for one user on a particular feature. secondly  we define trust strength. this is based on the number of transactions between two users in the case of interpersonal trust  or as the number of comments used to calculate the feature trust score in the case of contextual trust.
모to generate on-the-fly visualisations of the resultant trust network  we modified a version of piespy an open source graphing tool  by mutton for visualising social networks. our interpersonal trust database is a set of triples of the form: e i j  =  useri userj t i j    where t i j  comes from equation 1. this was translated into xml and fed to the graphing tool. modifications were made to the existing code to highlight target and source users in the graph. figure 1 shows the

figure 1: integration of the trust system into an online auction.  usernames have been obfuscated at the request of ebay
inc. 
visualisation output from a demonstration set of users in our database.  this graph has much higher than average interconnectedness.  the graphing tool caters for trust value and trust strength by representing value as the thickness of an edge and strength of the trust-relationship as the length of a line. in the graph  shorter lines mean a higher number of comments were used in the classification. the demonstration system in figure 1 shows the trust graph popup when a mouseover occurs on a username. to visualise contextual trust  a popup table with feature names  associated trust scores and strengths is used. this is shown as the smaller popup in figure 1.
1 experimental evaluation
we examine four factors in our evaluations. the accuracy of the auctionrules classifier with respect to other techniques from machine learning. we examine accuracy from a mean absolute error perspective and by creating confusion matrices to examine performance with respect to false negative and positive classifications. as the system uses a very small amount of domain knowledge  and a limited number of features  we must examine the coverage of auctionrules over our comments database. finally we make a comparison between the scale of trust achieved by auctionrules against the current ebay scale.
1 data
figure 1 explains the environment in which we test our algorithm. data is crawled from the online auction site according to the crawler algorithm below. importantly  unlike it's machine learning counterparts  auctionrules requires no knowledge of the comment set it has to classify. the feature lists used by the algorithm are generic and should work on any set of online auction comments.
algorithm 1: crawl string url list  int maxbound 
while n   maxbound for i 뫹 1 to #items on page followsellerlink  ;
for j 뫹 1 to #comments on page
db.add bid sid comment strust btrust ;
n 뫹 n + 1;
return ;

figure 1: graphical overview of the trust-modelling process.  current implementation only uses ebay as a source for rat-
ings. 
모1 user comments were collected from the auction site using the crawler. as a social network visualisation was planned  data was collected from within a domain with highly interconnected and contained repeat-purchase users. after a manual analysis of a range of sub-domains of the auction site  egyptian antiques was chosen as the data domain as it appeared to meet the prerequisites to a reasonable degree. although a large number of comments were collected  only 1 were used in our experimental analysis.
user-provided training data
in order to test any comment classification algorithm a benchmark set was required. 1 comments were compiled into an online survey1 and rated by real users. in this survey  users were asked to rate the positiveness of each comment on a likert scale of 1 to 1. 1 comments were presented to a user in each session. each comment was made by different buyers about one seller. users were required to answer the following:
  how positive is the comment  average rating: 1    how informative is the comment  average rating:
1 
  would you buy from this seller  average rating: 1 
currently only results from the first question are used to develop and test auctionrules. for future experiments we may incorporate results from the other questions. permission was sought from ebay inc. to use the information from the ebay website in our experiments.
1 comparing accuracy against machine learning techniques
to examine classification accuracy of auctionrules  it was tested against 1 popular algorithms. we chose three rulebased learners  zero-r  one-r  decision table  one tree

figure 1: classification accuracy  classification distribution from user evaluations: 1% positive  1% negative  using a threshold of 1 or higher for a positive comment. 
learner c1 rules  two bayes learners  naive bayes and bayesnet and a lazy learning algorithm k-star.
모figure 1 shows results of this experiment. for each algorithm we performed three runs. a 1 train-test split  an 1 split  and a 1-fold cross validation of the training set  which randomly selects a training set from the data over 1 runs of the classifier and averages the result. in the experiment each algorithm made a prediction for every value in the test set  and this prediction was compared against the training set. auctionrules beat all of the other classifiers in every test we performed  achieving over 1% accuracy in all of the evaluations  1% in the 1 test  beating the worst performer k-star by 1%   relative 1%  and it's closest competitor naive bayes by 1%  giving a relative accuracy increase of 1%.
모in addition to numerical accuracy  we examined where the high accuracy results were coming from more closely by assessing the confusion matrix output by the algorithms. this was necessary since prediction of false negatives would have an adverse effect on the resulting trust graph. this phenomenon has been discussed by massa in  with respect to the moleskiing application  and golbeck in  with respect to the trustmail application. table 1 shows auctionrules outperforming all of the other algorithms by predicting no false negatives. this is taken as a good result since in a propagation computation negative values should contain more weight because of their infrequency. when a value is presented to a user directly however  false positives are more damaging for an auction environment. auctionrulesalso performs very well for false positives with a rate of 1%  half that of the closest competitor one-r. all of the algorithms displayed similar trend to the ones in table 1  which shows results of the 1 classification experiment which had a test set of 1 comments. it was found during accuracy evaluations that there was a strong correlation between the number of feature terms recognised and the final accuracy of the classification. for our coverage experiments  we addressed the number of hits found with respect to coverage. this is detailed in the following section.
1 coverage and distribution experiments
to assess the coverage of the auctionrules feature-based trust calculator we examined the number of feature term hits
auctionrulesnaivebayesdecision tableone-r+'ve-'ve+'ve-'ve+'ve-'ve+'ve-'ve+'ve11.1.1.1.1.1.1-'ve11111111table 1: confusion matrices showing percentage true and false negatives and positives for four of the algorithms tested.  all of the other algorithms had similar results to the ones displayed. 

figure 1: comparison of the coverage and hit ratio in auctionrules
that occur during classification. coverage was tested in two modes. firstly  the standard feature-based mode. in this case  1% of the 1 comments tested contained at least one hit from the feature list. this provides us with semantic knowledge about a large number of comments. however there is a sharp reduction in coverage when we look for comments with more than one hit. to increase coverage auctionrules uses simple term counting to supplement its feature-based approach in cases where it fails to find any terms. when counting is applied the coverage is greatly increased with over 1% of the comments getting at least one hit. after manual examination  it is clear that majority of the other 1% can be attributed to misspellings  foreign language and other noise.
모a distribution analysis was performed between the auctionrules generated trust values and the current and found that the new trust values do capture some unseen negativity from feedback comments. this is manifested in a slightly more scaled distribution relative to the current ebay values. from 1 comments that were analysed in the distribution experiment  1 comments which had been rated as 1 to 1 percent positive were taken out of that bracket by auctionrules. this may seem like a small amount  but compared with the current system which has less than 1% negative ratings  auctionrules produced 1%.
1 conclusions and future work
the main contribution of this paper is an algorithm for extracting personalized and contextual trust from the wealth of freetext comments on online auction sites. the algorithm operates on the assumption that online auction transactions can be categorized into a relatively small set of features. auctionrules can extract context-specific and personal trust both retroactively and on the fly as new comments are added. there are a range of uses for the extracted trust scores. in this paper we have shown one such use in a pop-up visualisation of the resulting trust network for a demonstration subset of the ebay marketplace. this visualisation also shows perfeature trust in a pop-up window for a buyer or seller. in our evaluations we show that even using a small lexicon of key features  coverage is still maintained above 1%. we show that the auctionrules classifier beats seven popular learning algorithms at this classification task by up to 1% in accuracy tests using very minimal domain knowledge. auctionrules has a favourable false negative rate for the classifier of 1% compared to up to 1% from benchmark algorithms and a false positive rate of 1% compared with 1% to 1% for the benchmark algorithms.
1 acknowledgements
this material is based on works supported by science foundation ireland under grant no. 1/in.1/i1  and in part by the integrated media systems center  a national science foundation engineering research center  cooperative agreement no. eec1.
