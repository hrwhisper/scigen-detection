allinonenews is the largest news metasearch engine in the world  connecting to over 1 news sites over 1 countries. implementing a large-scale metasearch engine like allinonenews needs to overcome unique challenges not faced by building small metasearch engines such as developing highly scalable search engine selection techniques. in this paper  we discuss these unique challenges and our solutions to these challenges. we also discuss some novel features of allinonenews such as highly automated solution and semantic query match. this paper also reports the results of a comparative evaluation of three commercial news search systems  one search engine - google news and two metasearch engines - mamma news and allinonenews. several measures such as effectiveness  diversity and time-sensitivity are used to perform the comparison. another contribution of this paper is that we introduce a novel scheme to compare multiple news search systems in a combined measure that takes both relevance and timesensitivity of retrieved information into consideration. 
categories and subject descriptors 
h.1  information storage and retrieval : information search and retrieval - retrieval model  search process  selection process; h.1  information storage and retrieval : system and software - performance evaluation  efficiency and effectiveness ; h.1  information storage and retrieval : online information services - web-based services. 
general terms 
design  measurement  performance  algorithms 
keywords 
metasearch engine  news search  search engine  time-sensitive ranking 
1. introduction 
search engines and metasearch engines are two different types of search systems on the web. the former crawls documents from the web and builds a local index to support user search and the latter passes user queries to other search engines  collects the search results from these search engines and merges them into a single ranked list for presentation to their own users. 
while search engines like google and yahoo have achieved great success  metasearch engines have some unique advantages over search engines such as their abilities to reach the deep web  by connecting to the search interfaces of deep web sources   to combine the coverage of multiple search engines and to produce more accurate results  a good result merging algorithm can produce better results because it can pick the overall best results among the best results from individual search engines  . technical issues for building metasearch engines have been widely studied  e.g.   1  1  1  1  1  1  1  1  1  1  1  1  1  1   please see  for a survey on metasearch engine technologies  and many commercial metasearch engines have been built  e.g.  dogpile  www.dogpile.com   vivisimo  www.vivisimo.com  and mamma  www.mamma.com  . most of the current best-known metasearch engines connect to only a dozen or so general-purpose search engines.  
this paper focuses on news search systems. many kinds of information are sensitive to time. this is especially the case with news. the value of a news article depends much on its time of publication. today  an increasing number of people are reading news online. online news is mostly free and easily accessible with a web browser. a more important reason for its popularity is that people can obtain recent news as well as old news that may not be readily available from newspapers. news articles can be accessed as soon as they are posted. also  with the search capability of a news web site  people can readily locate news items that are of interest to them. however  there are many news organizations in the world and there are also many specialized news sites  such as those sports  finance  entertainment  and local  ones that cater to local communities . a news article of interest to a person may be posted in a newspaper web site unknown to him/her. to solve this problem  a number of news search engines  notably google news  news.google.com   have been created that allow people to search news articles from a number of news organizations around the world from a single search system. these news search engines were constructed using conventional techniques. that is  they periodically send  web crawlers  to fetch news articles from the news organizations  parse them and then update the document indexes at their servers. a news article is treated as if it were a regular web page posted on the internet. 
allinonenews  www.allinonenews.com  is a news search system based on the metasearch engine technology. in other words  allinonenews is a news metasearch engine. allinonenews connects directly to the search engines of individual newspapers and news sites. like google news  allinonenews also allows its users to search news from multiple news sources. however  we believe 

 
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. to copy otherwise  or republish  to post on servers or to redistribute to lists  requires prior specific permission and/or a fee. 
sigmod'1  june 1  1  beijing  china. 
copyright 1 acm  1-1-1/1...$1. 
the allinonenews technology may yield the following potential advantages over a crawler-based news search engine:  1  it can return more recent news because as soon as a news article becomes available at a local news site  it can be searched by allinonenews while the crawling delay may make it not immediately accessible by a crawler-based search engine;  1  it can reach old news articles by connecting to the search interfaces of archive news search engines; in contrast  crawling based technique cannot crawl news articles available only via search interfaces  google's new news archive search uses non-crawling techniques to obtain old news articles such as getting them directly from newspaper publishers through business relationships ; and  1  it can be more scalable in terms of covering more newspapers/news sites as there are much fewer news search engines than the number of news items.  
this paper has three main objectives. the first is to introduce the novel features of allinonenews and to provide some insights on how allinonenews is developed. the second is to propose a set of criteria for evaluating the quality of news search systems. the third is to report the results of our comparative evaluation of three news search systems  namely google news  news.google.com   mamma news  www.mamma.com/mammanews   and allinonenews  www.allinonenews.com . google news is a search engine that has a centralized index  which could be replicated at multiple locations . both mamma news and allinonenews are metasearch engines. 
in conventional information retrieval  the retrieval effectiveness of a system is usually measured by two quantities  recall and precision  where recall is the percentage of the relevant documents that are retrieved and precision is the percentage of the retrieved documents that are relevant. with these two measures  all relevant documents are treated as having the same importance. but for time-sensitive information  this should not be the case. consider news report. in many cases  a relevant news article is considered to be more important that an older relevant one. for a disaster such as a tsunami in progress  an up-to-date report is much preferred than another one that is half an hour late. thus  for time-sensitive information  the importance of a relevant document should also be judged based on its time of publication. hence  some new measures need to be used to evaluate the effectiveness of systems that retrieve time-sensitive information. in this paper  we introduce one such measure. in the literature  we are not aware of any reports of similar studies. we use this new measure of relevance of information to compare the retrieval effectiveness of systems that retrieve time-sensitive information: the three news search/metasearch engines mentioned above. 
the contributions of this paper are: 
1. we provide some insights on implementing a large-scale news metasearch engine  allinonenews  and introduce many of its novel features. no such insights have been provided on any other large-scale metasearch engines before. 
1. we provide several evaluation criteria to measure the quality of news search systems. in particular  we propose a new and novel scheme to measure and compare the retrieval effectiveness of multiple search/metasearch engines for timesensitive information.  
1. we compare three search/metasearch engines using the developed criteria. furthermore  we identify the strengths and weaknesses of these systems in processing different types of queries. 
the rest of this paper is organized as follows. in section 1  we give a brief description of related work. section 1 introduces the three news search systems we plan to compare  with the emphasis on allinonenews. in section 1  we propose the criteria for evaluating news search systems. in section 1  a description of our experiment is given  and we also discuss the strengths and weaknesses found in the three news search/metasearch engines. we summarize and conclude this paper in section 1. 
1. related works 
while many metasearch engines have been developed and deployed on the web and some of them also support news search  there is little published information on their implementation. for those there is published information  such as profusion and savvysearch   the information is somewhat old and is not related to news search. furthermore  most publicly accessible metasearch engines are small with only a dozen or so search engines. some metasearch engines have more search engines but these search engines are grouped into different categories in advance and for each category  only a small number of search engines are used. in a sense such a metasearch engine can be considered as a combination of multiple small metasearch engines. in contrast  allinonenews is a large-scale metasearch engine connecting to over 1 search engines. in addition  allinonenews is built using highly automated solutions for many of its components. we are not aware of any other public metasearch engines that have similar scale and are constructed based on mostly automated solutions. allinonenews also has other unique features not reported in other metasearch systems such as semantic-based query match and time-sensitive result merging. 
whenever a new retrieval technique is introduced  people typically compare the retrieval effectiveness of a system designed using the new technique against some other information retrieval systems. as the information stored in many information retrieval systems are mostly not time-sensitive  the comparison seldom takes into account the recency of the content of the retrieved documents. in   a comparison of several result merging strategies was conducted for a news metasearch engine. this can be viewed as a comparison of different news metasearch engines each using a different result merging strategy. in the study in   the news articles returned were not obtained directly from the web. instead  they were from a database of news articles obtained by submitting 1 queries to 1 news organizations and fetching the top 1 news articles in the result list returned for each query. the comparison performed was still using conventional information retrieval technique and did not consider the recency of each returned news article as well as other quality measures. to our knowledge  our work is the first on the evaluation of information retrieval systems that also take into account the recency of the content of retrieved information.  
1. three news search systems 
since both mamma news and allinonenews are metasearch engines  we first provide a brief overview of the general metasearch technology before introducing the three news search systems. 
1 metasearch technology 
a metasearch engine is a system that provides unified access to multiple existing search engines. from a user's perspective  there is essentially no difference between using a search engine and using a metasearch engine. however  search engines and metasearch engines are built using very different techniques .  
when a metasearch engine receives a query from a user  it sends the query to multiple existing search engines  which will be called component search engines in this paper   and it then combines the results returned by these search engines and displays the combined results to the user. a metasearch engine makes it easy for a user to search multiple search engines simultaneously while submitting just one query. 
a simple metasearch engine consists of a user interface for users to submit queries  a search engine connection component for submitting queries to its component search engines and receiving result pages from them through programs  a result extraction component for extracting the search result records  srrs  from the returned result pages  and a result merging component for combining the results . if a metasearch engine employs a large number of search engines  then a search engine selection component is needed. this component determines which search engines are likely to contain good matching results for any given user query so that only these search engines are used for this query. search engine selection is important mostly for efficiency. for example  suppose only the 1 best-matched results are needed for a query and a metasearch engine has 1 component search engines. clearly the 1 best-matched results will come from at most 1 component search engines  meaning that at least 1 of the 1 search engines are not useful for this query. sending a query to useless search engines will cause serious inefficiencies  such as heavy network traffic caused by transmitting unwanted results and the waste of system resources for evaluating the query. furthermore  the metasearch engine may be overwhelmed by the irrelevant results returned by the useless search engines. 
for a news metasearch engine  a new component - the publication time extraction component - is needed to identify the publication date and time of each retrieved news item. publication time is needed to perform time-sensitive ranking of retrieved results. in general  among the relevant news articles  more recent ones should be ranked ahead of older ones.  
in section 1  we will discuss how the above main components are implemented for allinonenews. 
1 allinonenews 
allinonenews is implemented based on the metasearch engine technology. currently it is connected to over 1 english news search engines from about 1 countries. these news search engines are mostly selected from several newspaper lists on the web such as 
http://www.newspaperindex.com  http://www.worldnewspapers.com and http://www.onlinenewspapers.com. only sites that satisfy certain requirements are used. for example  sites that do not have search engines are generally not used  we created search engines for a small number of such sites to allow them to be used by allinonenews . as another example  if the average response time of a site over several sample queries exceeds a pre-set threshold  it will not be used.  
the final goal of allinonenews is to connect to all news search engines in multiple languages on the web. at the same time  we aim to make allinonenews the most effective news search system on the web. to accommodate the large number of component search engines  highly scalable and automated solutions are developed to implement and maintain allinonenews. to support effective retrieval  several advanced features are incorporated into allinonenews. below  we provide a brief summary about the implementation of the main components of allinonenews and provide insights on how good scalability and effectiveness are achieved. we should point out that while allinonenews is developed based on the principles and main ideas described below  the actual implementation involves additional innovations and details.  
1.1 automatic search engine connection 
usually  the search interface of a search engine is implemented using an html form tag with a search textbox. the form tag contains all necessary information needed to connect to the search engine through a program. such information includes the name and the location of the search engine server that processes user queries  the network connection method  i.e.  the http request method  usually get or post   and the internal name associated with the search textbox  the query string is assigned to this name when the query is passed to the search engine server . a form parser can be used to automatically extract the above information from the html interface page of a given search engine. once the above basic pieces of information are obtained  it is not difficult to generate a connection program for the search engine for passing queries and receiving results.  
while a basic form parser can be implemented reasonably easily  developing a truly robust form parser is quite challenging due to many complexities involved such as differentiating search forms from non-search forms  dealing with multiple search forms on the same interface page  dealing with redirection and handling javascript. let's discuss one issue in some detail. consider the issue of differentiating search forms from non-search forms. this problem occurs because a given interface page may have more than one form tag and not every form tag corresponds to a search engine. for example  login/sign-in interfaces and many online surveys are also html forms. in   the following solution is provided to identify search engine forms: first the form must have a textbox; second  one of a set of pre-compiled keywords such as  search    find  and  seek  must appear either within or near the form tag; third  generate a connection program based on the extracted connection parameters and send test queries to see if any results can be returned  if yes  then the search form is confirmed. an extended version of this solution is used in the implementation of allinonenews. machine learning algorithms for detecting search forms can be found in  1  1 .  
at present  allinonenews' automatic search engine connection component cannot handle search forms with heavy javascript. consequently  news search engines whose search forms have heavy javascript are not used.  
1.1 search engine selection 
for a metasearch engine with as many component search engines as allinonenews has  having an effective search engine selection algorithm is imperative. when a user query is received by allinonenews  its search engine selection algorithm identifies several dozens of component search engines that it believes are most suitable for this query and only these search engines will be used to evaluate this query. below  we outline the main ideas behind allinonenews' search engine selection component. 
before any meaningful search engine selection can be performed  some information representing the contents of the set of pages of each search engine needs to be collected and this information is called the representative of the search engine . the representatives of all search engines used by the metasearch engine are collected in advance and are stored with the metasearch engine. during search engine selection for a given query  search engines are ranked based on how well their representatives match with the query. many search engine selection  also called database selection  algorithms have been proposed in the literature and they differ by the kind of representatives they use and the ways in which the representatives are used .  
the search engine selection algorithm adopted by allinonenews is a revised version of the optimal ranking algorithm described in        1  1 . this method is summarized below: 
1. first  a representative is obtained for each component search engine s. for each component news website  we regularly crawl for new news articles and use these articles to compute its representative. for each distinct term t in s  i.e.  t appears in 
an article in s   a statistical information called the adjusted maximum normalized weight amw t  s  is computed for t as follows: compute the normalized weight of t in every document  i.e.  the term frequency weight of t divided by the length of the document  in s  find the maximum value among these weights  and multiply this maximum weight by the global idf weight of t across all component search engines. let g be the number of news articles across all component news search engines that contain t  i.e.  g is the global document frequency of t  then the global idf weight of t is computed by log n/g   where n is the total number of news articles across all search engines.  
1. second  the representatives for all component search engines are integrated into a single representative. for each term t  among {amw t  si : i=1  ...}  the r largest values are kept and the rest are discarded for a small integer r  say ¡Ü 1 . the idea is that if a search engine does not have one of the r largest weights for t  then it is unlikely to be among the most useful search engines for a query containing t. if amw t  sk  is kept for t  then the id# of search engine sk is kept as well. in other words  up to r pairs  amw t  sk   id# sk   are kept for t in the integrated representative. 
1. third  with the objective of retrieving the m most similar  relevant  documents with respect to a given query q from across all component search engines  we say the search engines are optimally ranked with order  s1  s1  ...  sn  if for any m we can find a k such that the m most similar documents are contained in  s1  ...  sk  and each of these k search engines contain at least one of the m most similar documents. a necessary and sufficient condition for the component search engines to be optimally ranked is to order the search engines in descending order of the similarity of the most similar document with respect to q in each search engine. 
1. fourth  while techniques exist for estimating the similarity of the most similar document in any search engine s with any given query q using the information in the database representative  they are not very efficient. instead  we aim to efficiently estimate a quantity for any s and q such that when the search engines are ranked in descending order of this quantity  their order will be close to the optimal order. one such quantity is max{amw t  s : t ¡Ê q} . based on this  the following efficient search engine ranking process can be employed: for query q  first identify the r pairs of {amw t  sk   id# sk } for each term t in q; then we compute the above quantity for each search engine whose id# is in the above pairs; finally rank the search engines in descending order of these quantities. if q has w distinct terms  then at most r*w quantities need to be computed  independent of the number of component search engines. for a typical internet query with 1 terms and for r = 1  only 1 simple computations are needed to rank the component search engines approximately optimally. 
note that even though the integrated representative used by allinonenews is generated through crawled news articles  the metasearch approach is still different from crawling based search engines because the representative is far less sensitive to changes than the documents themselves. for example  once a term t about an event has been added to the integrated representative with respect to a site  say based on an earlier news article from the site  t can be used to retrieve fresher news articles about the event from the site even when these fresher articles have not been crawled. 
1.1 automatic wrapper generation 
result pages returned by a search engine are dynamically generated html pages. in addition to the search result records  srrs  for a query  such a result page usually also contains some unwanted information/links such as advertisements  search engine host information and sponsored links. it is essential to correctly extract the srrs on each result page. a typical srr corresponds to a web page found by the search engine and it usually contains the url  the title and a snippet of the page. 
a wrapper in this paper refers to the rules that can be used to extract the srrs from the result pages returned from a search engine. the wrapper for different search engine is usually different  which means we need to generate a wrapper for every component search engine. while it is possible to generate wrappers manually or semiautomatically  doing so for a large number of component search engines can incur very high labor cost. allinonenews employs an automatic wrapper generation tool  vints   to generate the wrappers. for search engines whose wrappers cannot be automatically and correctly generated  a semi-automatic wrapper generation tool is utilized. below  we provide a brief overview of the vints system. 
vints takes one or more sample result pages from a search engine as input  which can be provided either manually by a user or automatically by the system through submitting automatically generated sample queries to the search engine. for each input sample result page  its dom tree is built to analyzing its tag structures and it is rendered on a browser to extract its visual information. content-line is the basic building block of the vints approach. specifically  a content line is a group of characters that visually form a horizontal line in the same section on the rendered page. in vints  eight types of content lines  such as link line  text line  blank line  etc.  are differentiated. next  the content lines are divided into blocks based on candidate separators which are repeating content lines. candidate separators that yield similar blocks are kept. the similarity between two blocks b1 and b1 is defined in terms of their type distance between the type sequences of the content lines of b1 and b1  shape distance between the left contours formed by the left most x coordinates of the content lines in b1 and b1  and position distance between the left most x coordinates of the two blocks. next  candidate wrappers  regular expressions of tags  are generated based on consecutive candidate blocks.  
note that a result page may have multiple sections and more than one section may contain neatly arranged records. for each candidate wrapper  vints next determines the boundaries of the records it should extract. this is called wrapper refining. if more than one section has neatly arranged records  then more than one candidate wrapper may be generated after wrapper refining. next vints selects one of the candidate wrappers as the wrapper for this web page  at present  vints assumes each result page has only one main result record section  which is true for most search engines . vints uses several heuristics to select the final wrapper for the page  including the size of the section as determined by its records  the main section usually has the largest area compared to other sections   the location of the section  the main section is usually centrally located on the result page   etc. 
many search engines do not display their search results in the same format. for example  google displays some records un-indented while some indented. to increase the likelihood of capturing all varieties  multiple sample result pages from the same search engine should be used to generate the wrapper. for each sample page  the process described above is followed to generate a wrapper for the page. then the wrappers for different sample pages are integrated into a single and more robust wrapper for the search engine. in vints  wrapper integration includes tag path integration  which is the tag path from the root of the dom tree to the root of the lowest subtree that contains all the search records  and separator integration. 
vints is specifically developed for search engines and it is also the first fully automatic wrapper generation system that utilizes both visual contents and tag information for wrapper generation. we believe it is one of the most accurate automatic wrapper generators currently available  its record level accuracy is about 1% . if an acceptable wrapper cannot be generated for a news search engine  the search engine will not used in allinonenews. 
1.1 publication time extraction 
news is among the most time-sensitive information because more recent news on a topic is usually considered to be more useful. for allinonenews to be effective  it is critical that among all relevant/similar news articles for a given query  the more recent ones are ranked ahead. therefore  how to extract the publication time of news result records returned from different news sources is a critical task. here we describe how publication time is extracted from the search result records  srrs  in allinonenews. 
we first explain the issues associated with the publication time extraction problem. the first is the heterogeneities among the news sources in displaying the publication time. different news sites may choose different locations in the srr to display/encode the publication time information. some prefer putting it close together with the article title while others like to put it in the snippet or even in the url. the second is that publication times generated by different news sources may consist of different time components. a complete time may consist of year  month  day in a month  hour  minute  second  am/pm  and even the time zone  but different news sources often adopt different subsets of these components in their publication times. the third is that different news sites may interpret the same time expression differently. the ambiguity might be caused by the difference in conventions of different countries. for example  the expression  1/1  could be interpreted as   april 1rd  1    march 1th  1  or  march 1th  1   largely depending on from which country the news originally comes from. finally  an srr may contain multiple times and not all of them are the publication time. 
allinonenews' publication time extraction component addresses all of the above issues and it can be summarized below  the detail is reported in  : 
1. first  time and date from each srr  if exists  are extracted based on a set of pre-compiled time/date patterns  including special patterns that only appear in news srrs such as  xx minutes ago  and  .../dd/dd/dddd/...  encoded in some urls. for each date/time extracted  its location in the srr is also recorded. for example  it can be at the beginning/middle/end of the title/snippet or in the url. 
1. next  time and date values are  normalized  to a standard form using a variety of techniques. for example  time/date conventions in different countries and time zone information are utilized to help the normalization;  xx minutes ago  is converted to a date and time by subtracting  xx  minutes from the current date and time when the srr is retrieved;  november 1  will be interpreted as  november 1  1  if the current date is on november 1  1 or after  otherwise it will be interpreted as  november 1  1 . in addition  for an expression like  1/1   if another expression from the same site has  1/1  which implies the first two digitals must represent day not month  month can only be between 1 and 1   we can interpret  1/1  as march 1th  1. 
1. identify the publication time  including date  from the extracted times for each srr. first  very old times and times for the future are removed because they cannot be publication times. second  group all the remaining times from all srrs from the same search engine based on their locations  e.g.  all times appearing at the beginning of the title will be placed into the same group. the times in the largest group are recognized as the publication times based on the observation that news sites usually place the publication times at the same place in all of its srrs. 
1. for each news search engine  a publication time extraction wrapper is generated automatically based on sample srrs extracted from the result pages returned from this search engine. the wrapper contains pattern  location and interpretation information for the publication times returned by this search engine. not only the wrapper can be efficiently applied to extracting the publication times from newly returned srrs from the same search engine  the above complicated process can be avoided   it also leads to better accuracy. 
based on our experiments  the algorithm described above has close to 1% accuracy.  
1.1 result merging 
the quality of the result-merging algorithm employed by a metasearch engine probably has the most direct impact on the effectiveness of the metasearch engine. many result-merging algorithms have been proposed in the literature  e.g.   and some are proposed specifically for the news metasearch engine context . due to the fast response required of metasearch engines  most result-merging algorithms do not download the actual web pages retrieved and compute their similarities with the query. instead  they use only information available on the already returned result pages  including the rank of each result record from the search engine that returned it  the title and snippet contained in the result record. the similarities of the title and snippet of a result record with the query can be computed and aggregated to produce an overall ranking score for the record. in addition  the proximity of the query terms in the title and snippet can also be taken into consideration .  
allinonenews employs a sophisticated result merging technique. this technique takes many factors into consideration when determining the rank of each result. some of these factors are: the quality of selected component news search engine  which was obtained in the search engine selection step  from which the result is retrieved  the number of terms that are common between the query and the title/snippet of the result  the proximity of the query terms in the title/snippet of the result  the order in which the query terms appear in the result  and the publication time of the result. 
1.1 other significant features 
allinonenews puts a lot of emphasis on recognizing and utilizing phrases as they often convey more precise information than their component words individually. phrases are recognized from the sample news articles used to generate the representatives for the search engines based on proximity of words and the correlation of words  words in phrases usually appear close to each other and are highly correlated . these phrases are considered as special terms in the representatives and they are utilized in result merging. they are also utilized to recognize phrases in user queries so phrase-based match can be conducted. 
another significant feature of allinonenews is its support of semantic-based matching. for example  if a user query is  email   results that contain  e-mail  and  electronic mail  can also be retrieved because they all have the same meaning. as another example  for query  renal calculus   documents with  kidney stones  will also be matched. allinonenews uses a combination of several techniques to identify terms that are semantically similar to query terms  including utilizing semantic dictionaries like wordnet.  
1  mamma news 
mamma is a publicly traded company that specializes metasearch engines. mamma news is part of the mamma metasearch engine and it is also implemented based on the metasearch engine technology. it is not clear how many news search engines it employs. there is little publicly available information about the techniques  such as the result-merging algorithm  behind mamma news. 
1 google news 
google news is part of google and it is a news search engine implemented using a crawler-based technology in that it crawls news items from various news sites and builds a central index to answer users' queries. by the time this paper is being written  google news crawls news items from 1 english news sources. while it is known that google news ranks news items based on the information in the title and text as well as the publication time  the details of the ranking algorithm are not known to the public.   
1. quality measures 
in this section we propose five criteria that we believe are important to measure the quality of news search systems. in section 1  we will use these criteria to compare the three news search systems described in section 1. 
1 traditional effectiveness 
recall and precision are the most widely used quantities for measuring information retrieval systems. however  it is difficult to compute recall when evaluating search engines because it is difficult  impossible in many cases  to know the number of relevant documents for queries. one popular measure for evaluating the effectiveness of search engines is the trec-style average precision  tsap  . tsap at cutoff n  only the top n results are considered   denoted as tsap n  is defined below: 
tsap n =  ¡Æn ri    / n
  i=1  
where ri = 1/i if the i-th ranked result is relevant and ri = 1 if it is not relevant. this measure takes both the number of relevant documents and their positions in the result list into consideration. 
for example  suppose for a given search engine and a query the relevance information of the top 1 retrieved documents is  r  i  i  r  r   where an r  i  at the i-th position indicates that the i-th result is relevant  irrelevant  respectively . then for this query  the tsap 1 value for this search engine is: 
 	tsap 1 == 1 
1 time-sensitive effectiveness 
one thing unique about a news item is that its value often depends on its time of publication. therefore  it is important to evaluate news search systems based on how well they retrieve fresh news items. we did not come up with a good measure that combines both timeindependent effectiveness and the relative freshness of news items. instead  we devised a scheme that can be used to compare the timesensitive effectiveness of multiple news systems. the basic idea is to put all the relevant results from the news search systems we want to compare together into a single ranked list based on their recency and analyze the relative positions of these results. the details of this scheme are described below.  
we assume that news items are time-stamped  and that the relevant news items can be arranged in non-ascending order of their timestamps. we also assume that the importance of a news item can be given by the zipfian distribution. specifically  if a relevant item has rank r  its degree of importance is given by 1rp   where 1 ¡Ü p 
¡Ü 1. note that when p = 1  each relevant item has the same importance. the value of p should be adjusted based on the sensitivity of the news items with respect to time  larger value indicates higher sensitivity . the rank of a relevant news item is j  if it is the j-th most recent news item among all the news items that are relevant to the query. it assumes that the more recent a news item is the more important it is. if the user wants a different ranking  the methodology given below is also directly applicable. the experimental result reported in this paper assumes that the news items are ranked in descending order of time. in other words  more recent ones have higher ranks. if an item is irrelevant  its degree of importance is 1. for all the relevant news items retrieved from all the news search/metasearch engines that are to be compared  we compute the sum of their degrees of importance. let this sum be rel total. consider the top n news items in the result lists returned for a query from a news search/metasearch engine. we define the recall of these n news items to be rel sum n  / rel total and the precision to be rel sum n  / n  where  rel sum n  is the sum of the degrees of importance of the top n  news items. 
suppose that a query q has been sent to three search/metasearch engines s1  s1 and s1. suppose further that the result list returned from s1 is  i  r1  r1   the result list returned from s1 is  r1  i  r1   and the result list returned from s1 is  i  r1  i   where rj is a relevant news item having rank j among all relevant news items retrieved from the three systems  and the i's are the irrelevant news items. for example  for the result list returned from s1  the first item is irrelevant; the second item is relevant and is the most recent item among all relevant items from all of the three search systems; and finally the third item from s1 is also relevant and is the fourth most recent item among all relevant ones. in this example  the same document with rank 1 is returned from both s1 and s1. then  the sum of the degrees of importance of all the relevant news items is: 
rel total = 1p + 1p + 1p + 1p . 
	1	1
the recall of s1 for the first two news items  for example  is 
 1p rel total and the precision is  1p 1 where 1p is due to r1. if the first three news items from s1 are considered  the recall of s1 is  1p +1p rel total and the precision is  1p +1p 1.  
after each news search/metasearch engine retrieved the same number of documents  the total number of relevant documents is assumed to be the number of distinct relevant documents in the sets of retrieved documents. 
1 redundancy 
due to the sharing of news stories among many news sources  the same news item may appear in multiple newspapers. consequently  for news search systems that gather news articles from multiple news sources  like the three news search/metasearch engines to be compared in this paper  their results may contain duplicate news items. a good news search system should make an effort to reduce or eliminate the redundancy. in this paper  two news items are considered to be the same if they have the same contents  including pictures and hyperlinks. for a given result set r  its degree of redundancy is defined as below:           redundancy = 1 - k / |r|  where k is the number of unique results in r and |r| is the size of r. search engines with higher average scores produce more redundant results. 
1 diversity 
it is understandable that different news articles about the same event can be very different because different reporters may describe the same event from different perspectives. the limited space of newspapers can also affect how much details about an event can be included in a news article. newspapers also carry editorials that are usually highly subjective to the political or religious views of the newspaper publishers or the editorial staff. for example  liberals and conservatives have very different opinions on many things. the diversity of opinion becomes even more evident when newspapers from different countries are considered. 
many news readers are interested in knowing different opinions and perspectives about many important events to have a more objective and comprehensive understanding about them. therefore  the diversity of the news sources that are covered by a news search system can be an important criterion on the quality of the system. 
in this paper  the diversity of a search system is defined based on the number of unique countries the retrieved relevant news items come from. specifically  the following formula is used:  
¡¡diversity = # unique source countries/total# of relevant results in the future  we plan to study other diversity measures. 
1 information richness 
the richness here refers to the information contained in the search result records  srr  returned by a search system. some information that may be contained in an srr includes the name of the news source  the size of the article  the url to the full document  the publication date/time  a short summary/excerpt of the full document  etc. in general  if the srr from a search system provides all of the above information  it performs well in information richness. we also use a subjective measurement  which is whether the information provided is considered to be sufficient to allow the users to make an informed decision about whether or not to display the full document. 
1. evaluation and comparison 
in this section  we report our evaluation and comparison of the three news search systems described in section 1 using the criteria/scheme introduced in section 1. we will start with the dataset we used for this evaluation. 
1 dataset 
we used 1 queries in total. they were manually selected by a computer science graduate student who is not involved in the development of allinonenews. these queries cover 1 different areas to provide a wide coverage as shown below: 
  us news  1  
  international news  1  
  sports news  1  
  economy news  1  
  entertainment news  1  
the queries were taken from the corresponding page of well-known newspapers and news websites such as new york times  cnn.com and bbc.com from june 1  1 to october 1  1. the average number of words of these queries is 1. in order to make the relevance assessment more objective  whenever a query is generated  a description that explains what the query is about is recorded too. the description is used to judge whether a certain document is relevant or not. all the queries were submitted and judged by the same person so consistency is assured. an example query record is shown in table 1. it includes the query  the date when the query was submitted to the three news search systems  1.1 stands for october 1  1 in table 1   and the description. the full list of queries can be found in the appendix at the end of this paper.  
table 1. an example query and its description 
query date description peter pan sequel 1.1 a sequel to children's classic peter pan has been published - more than 1 years after the original. for each query the top 1 retrieved documents from each search system are saved. for each retrieved document  its relevance is determined based on its match with the description of the query. 
the time when each retrieved document was published online is recorded as accurately as possible. most news websites publish their news with a date and time. for those that only provide a date  we assume they are published at 1am of that day. for a given document we first find out from which country it was published and the time zone of that country so we can transform the local time when the news was published into a standard time  gmt  for this study. 
1 experimental results 
we now report the evaluation results based on each criterion described in section 1. 
1.1 traditional effectiveness  
table 1 shows the average tsap n values for n = 1  1  1 and 1 over the 1 test queries for the three news search systems. we can see that allinonenews has the highest tsap values among the three news search system for n = 1  n = 1 and n = 1 while google news is the best for n = 1. mamma news has the lowest values for all ns. more detailed analysis shows that google news has the best performance for its top-ranked results  all of its top-ranked results are relevant  while allinonenews retrieved more relevant results for n ¡Ý 1  please also see the next paragraph .  
it may be argued that the tsap measure puts too much emphasis on higher ranked relevant results. for example  if the top-ranked result is relevant  its score  r1 = 1  is higher than the sum of the scores of the 1nd and the 1rd relevant results  r1 + r1 = 1 + 1 = 1  and higher than the total of the scores of next six relevant results  r1 +...+ r1   1 . one way to remedy this is to multiply tsap n by r/n   where r is the number of relevant results among the top n results. table 1 compares the performance of the three search systems based on this measure. as it can be seen  allinonenews consistently performed better than google news based on this measure.  
table 1. average tsap n values 
n allinonenews mamma google 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 table 1. average tsap n * r/n values 
n allinonenews mamma google 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 we would like to point out that the semantic match capability of allinonenews was added to the system on october 1  1. among the 1 queries used in this study  only 1 were collected after the above date. 
1.1 time-sensitive effectiveness 
table 1 shows the average precision values at different recall levels for the three search systems at cutoff 1 when p = 1 using the scheme described in section 1. figure 1 shows the graph representation of table 1. we can see that allinonenews has an overall much better performance than mamma news and google news for this measure. google news has higher precisions than mamma news at the two ends of the recall values but mamma news does better than google news at recalls 1 and 1. 
table 1. average precisions incorporating time-sensitivity 
 recall level precision allinonenews mamma google 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 average 1 1 1 1.1 redundancy 
table 1 shows the average degree of redundancy of the three news search systems we tested. the result shows that google news has done an impressive job as it managed to eliminate all the redundant results. in contrast  mamma news has the highest redundancy rate    1 redundant results in every 1 results   which is close to twice the redundancy allinonenews has. 

figure 1. time-sensitive effectiveness comparison 
table 1. average degree of redundancy 
allinonenews mamma google 1% 1% 1 1.1 diversity  comprehensiveness  
table 1 shows the average diversity of each news search system. google news has the highest diversity among the three systems  followed by allinonenews while mamma news trails the others. it appears that diversity is related to the number of news sources covered. google news uses 1 sources while allinonenews connects to over 1 news sites. mamma news probably uses less than 1 sources.  
table 1. average diversity 
allinonenews mamma google 1 1 1 1.1 information richness 
table 1 lists the information that is provided in the search result records by each of the three news search systems. 
although allinonenews and mamma news do not provide the response time that it takes them to search and return results  it is easy to observe that they both take substantially longer time than google news. this is expected as google news searches its own index while the other two are metasearch engines that need to send their queries to other search engines and wait for the results to come back. 
1 discussions and comparisons 
although the experimental data shows that allinonenews has higher precision at more recall levels  given the small number of queries used  it may seem imprudent to say that allinonenews is superior in news search. however  during our investigation  we did observe a number of strengths and weaknesses of these news search/metasearch engines  which are discussed below.  
table 1. information richness
 description allinonenews mamma google response time if the query processing time provided  no no yes  
 
 
srr 
 source name if the name of the source is included yes yes yes # of srrs  # of srrs displayed on a page all retrieved records 1 1 description how useful is the site description * very medium very file size if the size of the retrieved document is indicated no no no date /time if the srr indicate a date and time yes  date without time recent ones have date and time query terms if they are highlighted in srrs yes no yes * the usefulness of a site description is a subjective measure. it includes how useful the description lets users make decisions about whether or not to display the full document. here we find that allinonenews and google news have more detailed description about each srr so they help users judge if the document is what they want. on the contrary mamma only provides a shorter 1. google news maintains a centralized index  possibly replicated  to the news articles from 1 news sources.  to process a query  google news needs only to search its own index. in comparison  as indicated earlier  the two news metasearch engines allinonenews and mamma news need to send a user's query to some  or all  of the component newspaper search engines and to receive and merge the results from them before the query results can be presented to the user.  description about each srr. 
thus  for these two news metasearch engines  more time is required to process a query. for google news  the average response time for a query is remarkable and seldom takes more than 1 seconds. for mamma news and allinonenews  the average response times are about 1 and 1 seconds  respectively. it is known that google is powered by over 1 computers although it is not clear how much of the resources are devoted to google news. allinonenews is presently powered by a rented server with one dual-processor computer running on ms windows os. we did not find information about the server for mamma news. 
1. for queries that do not contain exactly the same words used in the news articles for a certain event  google news often does not return any result. for example  on november 1  1  we submitted the query  moshe katzav sexual offence  to all three search/metasearch engines.  we wanted to find information about the rape allegations against israeli president moshe katzav. allinonenews returned several recent relevant news articles. neither mamma news nor google news returned any result for this query. however  google news did return relevant news if the word  offence  in the query was changed to  offences  or  offense .   another example is the query  n. korea rocket launches  submitted on november 1  1. both mamma news and google news returned no results while allinonenews returned several recent relevant news articles. google news would return results if the query word  rocket  was changed to  missile . 
1. in general  google news either does not return any results or returns no good results for old news searches. for example  the query  ronaldo return manchester united  which was submitted on july 1th  1. it was intended to find news about cristiano ronaldo returning to training in manchester united. seven relevant results were returned from google news on july 1th  1  but when we did the search again on november 1th  1  no relevant results were available. relevant news articles were returned from allinonenews and mamma news. previously  google news mentioned that it keeps news items for 1 days only. even though this statement has been removed from the google news site  our test indicates that this practice of keeping news items for only 1 days is continued. we should note that google has recently launched a separate service for searching archive news. 
1. it seems that mamma news indexes less news from some regions of the world other than us. for example  on july 1th  1  australian prime minister john howard announced that he would contest elections for a fifth term in office. the query  australia pm fifth term  was submitted on the same day to all three news search/metasearch engines. the top 1 news articles returned from allinonenews were all relevant and google news had 1 relevant results among its top 1 results. however  mamma news did not return any result. another example is the news about google disposing of its 1% holding in baidu. for the query  google sold baidu stake  submitted on june 1  1  the top 1 results returned by allinonenews and google are relevant  but mamma news did not return any result. 
1. another interesting observation about mamma news is that it seems to cover less news sources from the sports and entertainment areas. for example on july 1  1  we submitted a query  landis positive drugs test  which is about tour de france winner floyd landis giving a positive drug test. among the top 1 results we checked that were returned from each of the three systems  allinonenews gave 1 relevant results and google gave 1  but mamma news only returned one. on august 1  1 the query  1 movie premieres   which is about oliver stone's controversial film  world trade center  having a world premiere in new york city  was submitted and mamma news did not return any documents. 
1. the results returned from mamma news often are not sorted in the degree of relevance to the submitted query. quite frequently  the top few news articles are not relevant. for example  for the query  cowboys defeat panthers  submitted on october 1th 1  the second and third news articles returned from mamma news were not relevant. for some unknown reason  mamma news occasionally performed very poorly. on october 1th 1  the query  st. louis most dangerous  was submitted.  most news articles returned from google news and allinonenews were relevant. however  no results were returned from mamma news for this query. 
1. the experimental results reported in table 1 suggest that allinonenews is more capable of getting fresher news than both google news and mamma news. this is consistent with our experience unrelated to this particular comparative study. we believe metasearch engines have the inherent advantage of being able to retrieve more up-to-date information than search engines because the former does not have the delay caused by crawling web pages  news items in this case . the reason why mamma news did not do well in this regard probably has something to do with its result-merging algorithm. as noted above  item 1   mamma news is not very good in ranking relevant results higher  which can lead to poor score in timesensitive effectiveness because this measure considers both freshness and effectiveness. in other words  a news search system can return very fresher results but still gets low score if the fresher news items are not relevant.  
1. based on our test  we believe neither google news nor mamma news support semantic match based retrieval. for example  for query  renal calculus  submitted on november 1  1  google news and mamma news did not return any results while allinonenews returned many relevant news items. supporting semantic match appears to be a unique feature of allinonenews. 
 
1. conclusions 
in this paper  the development of allinonenews news metasearch engine is introduced. allinonenews has many novel features that are not seen in other metasearch engines such as highly sophisticated search engine selection technique  semantic-based match  and high degree of automation  among others. the successful development and deployment of allinonenews shows that it is possible to build large-scale metasearch engines that are practically useful. however  our experience indicates that highly automated solutions are needed to build them cost-effectively and there are still significant technical challenges in improving the robustness of the automated construction tools. another difficulty we encountered during the development of allinonenews is that some news sites do not have search engines or have poor quality search engines. one way to solve this problem is to build search engines for these sites and use them as component search engines. 
we also evaluated and compared three news search systems  google news  mamma news  and allinonenews  based on five criteria  traditional effectiveness  time-sensitive effectiveness  degree of redundancy  diversity  and information richness  using 1 queries. the results showed that allinonenews has some advantage on effectiveness  including time-sensitive effectiveness  over google news and mamma news  while google news is clearly better in removing redundant results and providing better diversity than the two metasearch engines.  
in this paper  we introduced a new precision measure for the evaluation of systems that retrieve time-sensitive information and devised a scheme to compare multiple search systems using this measure. in addition to the relevance of a piece of retrieved information  this new measure takes into account the recency of the information.  
we should point out that the experimental data were collected based on only 1 queries. as such  it may not be conclusive to say that allinonenews definitely has better retrieval performance than the other two news search systems. we plan to do more extensive evaluation in the future. nevertheless  we have identified several strengths and weaknesses of each search/metasearch engine. although allinonenews showed better performance  it requires longer processing time. google news has the best response time but performs poorly for certain types of queries. for mamma news  the relevant news articles are often not the top most ones. 
1. acknowledgments 
this work is support in part by the following sbir grants from nsf: dmi-1  phase i  and dmi-1  phase ii . 
