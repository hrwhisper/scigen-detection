this paper describes the introduction of an e-marketplace system called  realtimemarket   on which broadcast airtime opportunities that are made available by datacasting can be handled in real-time. features of this system are as follows:  1  real-time information sharing on the marketplace through the usual html browsers is enabled  even over the http proxies or firewalls  by using bi-directional http tunneling and data- replication technology   1  a real-time trading model is adopted for the ad banner ads   1  the web site is designed to manage of ad opportunities in japanese datacasting in an intuitive manner. as more and more items are handled by e-marketplaces  the demand for being real-time services will increase rapidly. the system described here will work as an important reference implementation for such cases.  
keywords 
e-marketplace  real-time information sharing  ad opportunities 
1. introduction 
various types of e-marketplaces have been developed to trade automobile components  office facilities  etc. different goods necessitate different trading styles  and new functions can create new marketplaces. real-time trading is one of them. let us think about the ad opportunities on broadcast tv . for example  when a baseball game goes into extra innings and its program is being prolonged  the price of its ad space will be high  but the ad spaces that become available in this kind of scenario are not sold at a price that is considered reasonable price from the viewpoint of broadcast tv executers. conventional systems do not fit a market that opens and closes the trading in such a short time. 
we 	have 	developed 	an 	e-marketplace 	platform 	called 
 realtimemarket  and applied it to the trading of datacasting ad opportunities. in the following sections  we describe the mechanism of our real-time e-marketplace platform and its application to the ad opportunities trading field. 
1.  realtimemarket  system  
 realtimemarket  works as a platform for various domains of e-marketplaces. it consists of a basic-market system and a realtime information-sharing mechanism. the basic-market system consists of a general http server and a market base.  the realtime information sharing consists of a real-time informationsharing server and a document-replication server  figure. 1 . 
the market-base system manages databases of items  dealings  and user information. it controls the dealings between buyers and sellers. these dealings are based on either on auctions or in a fixed-price catalog. the system has a data-replication function that can detect changes databases in real-time using external sub-systems  such as document-replication servers. the flexible extension and exchanging of data among other sub-systems can be achieved because the data formats are defined based on xml.  the market base system is independent of data format. therefore  the expression of data format can be revised without re-building the market-base system. the dealing processes are described in java script language on active server pages.  the market-base system is also independent of dealing processes. 
the real-time information sharing system can supply events immediately with market condition information through html browsers. we developed a bi-directional http tunneling technology that enables advertisers to communicate with emarketplaces through firewalls without laying on dedicated line. when an e-marketplace web page is downloaded  the real-time information-sharing servers are connected by an activex control client in the browser by using bi-directional http tunneling protocol. when the database changes as the result of bidding or transactions  the document replication servers create html rewriting commands and send them to the real-time 

figure. 1  realtimemarket  structure 
information-sharing server. then  the real-time informationsharing server pushes html rewriting commands to the activex control client. the activex control client rewrites the html document. the mechanism of tunneling technology is as follows:  first  the activex control client makes a virtualdownload channel and a virtual-upload channel to the real-time information-sharing server. the virtual-download channel passes large http-get transaction. the virtual-upload channel passes a large http-post transaction.  the cells of commands are put into the http-body data area and are transported to the activex control client. this technology has the real-time information sharing-control mechanisms as follows: 1  connection maintenance protocols keep the virtual channels alive  1  the real-time information-sharing server enables various bandwidth clients to communicate each other  and 1  heavy transactions are distributed to other servers. therefore  an e-marketplace that has a real-time function can be constructed on the internet through the use of extra networks of any bandwidth or quality.  

figure. 1 e-market place of ad opportunity 
1. e-marketplace for ad opportunities on datacasting 
digital data broadcasting service from a satellite  datacasting  started in december 1 in japan .  datacasting gives more accurate real-time ad opportunities than those that are available on the internet.  by using  realtimemarket   media executers  such as tv stations  can sell their time-spots just before they broadcast. furthermore  an advertiser can have their ad broadcast virtually at will if the need arises. 
the 	system 	consists 	of 	the 	e-marketplace 	system 
 realtimemarket   web browsers for advertises  web browsers for tv stations  tv stations  viewers and a back-channel system  figure. 1 . response data from viewers are sent to a tv station via the back-channel system.  in addition  the response data are processed as statistical data and then sent to the e-marketplace. a tv station prepares the various parameters for an ad space  which includes the transaction type such as an auction or a fixed price. the tv station then registers them with the e-marketplace. an advertiser selects a preferable ad material from its list. then they bid or commit to purchase the ad space.  when a transaction between the tv station and the advertiser occurs  the selected ad material is transported to the tv station immediately via the internet. the tv station can now broadcast the ad to its viewers. it is important that an advertiser can select a preferred ad before the transaction with the tv station is made. with this feature  the time lag between the transaction and the airing of the ad can be reduced.  an advertiser can also replace one ad with another. 
1. web design of the market 
 a web site in an e-marketplace for datacasting ad opportunities has two main parts: the media-side pages and the advertiser-side pages. the media's pages contain  make item    list views    my trade   and  report view  for ad space opportunities. an advertiser's pages contain  list views    my trade    banner managing    auto bid   and  report view .  
advertisers can bid or purchase an ad opportunity on  item detail view   figure. 1 . the web pages of  list views  and  item detail view  are updated to show their current status  bid  prices  and correct-time column in real-time without requiring the screen to be reloaded. therefore advertisers can participate in auctions while they are viewing the current status of an auction. what they are viewing is always the latest information. 
1. conclusion 
a real-time e-marketplace platform was developed and applied to the datacasting of ad opportunities and their trading. as emarketplaces are applied to the trading of a wide range of items  the demand for real-time platforms will increase rapidly. we are planning to apply this system to a wide range of trading fields. 
