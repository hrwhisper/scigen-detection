we focus on the problem of query rewriting for sponsored search. we base rewrites on a historical click graph that records the ads that have been clicked on in response to past user queries. given a query q  we first consider simrank  as a way to identify queries similar to q  i.e.  queries whose ads a user may be interested in. we argue that simrank fails to properly identify query similarities in our application  and we present two enhanced versions of simrank: one that exploits weights on click graph edges and another that exploits  evidence.  we experimentally evaluate our new schemes against simrank  using actual click graphs and queries form yahoo!  and using a variety of metrics. our results show that the enhanced methods can yield more and better query rewrites.
categories and subject descriptors
h.1  information search and retrieval : retrieval models
general terms
algorithms  experimentation  theory
keywords
sponsored search  link analysis  similarity metric  click graph
1. introduction
　in sponsored search  paid advertisements  ads  relevant to a user's query are shown above or along-side traditional web search results. the placement of these ads is in general related to a ranking score which is a function of the semantic relevance to the query and the advertiser's bid.
　ideally  a sponsored search system has access to a database of available ads and a set of bids. conceptually  each bid consists of a query q  an ad α  and a price p. with such a bid  the bidder offers to pay if the ad α is both displayed and clicked when a user issues query q. for many queries  there are not enough direct bids  so the sponsored search system attempts to find other ads that may be of interest to the user who submitted the query. even though there is no direct bid  if the user clicks on one of these ads  the search engine will make some money  and the advertiser will
copyright is held by the author/owner s .
www 1  april 1  1  beijing  china. acm 1-1-1/1.
receive a customer . the challenge is then to find ads related to incoming queries that may yield user click throughs. for

figure 1: sample complete bipartite graphs  k1 and k1  extracted from a click graph.
a variety of practical and historical reasons  the sponsored search system is often split into two components. a frontend takes an input query q and produces a list of re-writes  i.e.  of other queries that are similar to q. the query and its rewrites are then considered by the back-end  which displays ads that have bids for the query or its rewrites. the split approach reduces the complexity of the back-end  which has to deal with rapidly changing bids. the work of finding relevant ads  indirectly through related queries  is off-loaded to the front-end.
　at the front-end  queries can be rewritten using a variety of techniques developed for document search. however  these techniques often do not generate enough useful rewrites. part of the problem is that in our case  documents  the ads  have little text  and queries are very short  so there is less information to work with  as compared with larger documents. another problem is that there are relatively few queries in the bid database  so even if we found all the textually related ones  we may not have enough. thus  it is important to generate additional rewrites  using other techniques.
　our focus is on query rewrites based on the recent history of ads displayed and clicked on. the back-end generates a historical click graph that records the clicks that were generated by ads when a user inputs a given query. the click graph is a weighted bi-partite graph  with queries on one side and ads on the other. the schemes we present analyze the connections in the click graph to identify rewrites that may be useful. our techniques identify not only queries that are directly connected by an ad but also queries that are more
1
www 1 / poster paper	april 1  1 ， beijing  chinatable 1: query-query similarity scores for the sample click graphs of figure 1. scores have been computed by simrank with c1 = c1 = 1
iterationsim  car  sim  car   automobile   motorcycle  1.1.1111.1.1111.1.1111.1.1indirectly related. our techniques are based on the notion of simrank   which can compute query similarity based on the connections in a bi-partite click-graph. however  in our case we need to extend simrank to take into account the specifics of our sponsored search application.
1. motivating example
　figure 1 illustrates two sample click graphs. the left nodes are queries issued by users and the right nodes correspond to ads. an edge between a query  left node  and an ad  right node  indicates that at least someone clicked on the ad after issuing that query. if we look at the similarity scores that simrank computes for the two query pairs car automobile and car - motorcycle  we can see that sim car  automobile  is always less than sim car  motorcycle  no matter how many iterations of the simrank computation we perform. table 1 tabulates these scores for the first 1 iterations. in fact  we can prove that sim car  automobile  becomes eventually equal to sim car  motorcycle  as we include more iterations.
　in this example  the simrank similarity of car to motorcycle is less than that of car to automobile  if we run limited iterations  or at best they are equal  if we pay the high price of running to convergence . either result is counterintuitive since there are more ads that connect car and automobile. to give car and automobile higher similarity  we introduce the notion of  evidence of similarity. 
1. revising simrank
1 evidence-based simrank
　given two nodes a b of a bipartite graph  we will denote as evidence a b  the evidence existing in g that the nodes a b are similar. the intuition behind choosing such a function is as follows. we want the evidence score evidence a b  to be an increasing function of the common neighbors between a and b. in addition  we want the evidence scores to get closer to one as the common neighbors increase. by multiplying the simrank scores with the evidence function we fix the anomalies observed before. although not shown here  in our example  after 1 iterations the evidence-based simrank score sim car  automobile  turns out to be 1 while sim car  motorcycle  is 1 and thus someone can correctly determine that car is more similar to automobile than to motorcycle.
1 weighted simrank
　we also modify the underlying random walk model of simrank so that it exploits the edge weights of the click graph.
again we use the evidence scores  but now we perform a different random walk that utilizes the edge weights in its transition probabilities. more details can be found on the extended version of the paper .
1. experiments
　we conducted experiments to compare the performance of simrank  evidence-based simrank and weighted simrank as techniques for query rewriting. our baseline was a query rewriting technique based on the pearson correlation. to evaluate the quality of rewrites  we consider two methods.
　the first is a manual evaluation  carried out by professional members of yahoo!'s editorial evaluation team. each query - rewrite pair is considered by an evaluator  and is given a score on a scale from 1 to 1  based on their relevance judgment. the query rewrites that were more relevant with the original query assigned a score of 1  and the least related assigned a score of 1. the judgment scores are solely based on the evaluator's knowledge  and not on the contents of the click graph. the evaluation metrics we used were precision/recall  based on the editorial scores   the query coverage  number of queries for which each method manages to provide at least one rewrite  as well as the query rewriting depth  number of query rewrites that a method provides for a given query . in summary  evidence-based simple simrank outperforms simple simrank and pearson both in query coverage  rewriting depth and precision/recall. weighted simrank maintains the query coverage and rewriting depth of evidence-based simrank but substantially boosts the precision of the rewrites.
　our second evaluation method addresses the question of whether our methods made the right decision based on the evidence found in the click graph. the basic idea is to remove certain edges from the click graph and to see if using the remaining data our schemes can still make useful inferences related to the missing data  desirability prediction . weighted simrank outperforms all other alternatives here.
　more details on the evaluation method and the results can be found on the extended version of the paper .
1. conclusions
　we have discussed the problem of query rewriting for sponsored search. we propose simrank to exploit the click graph structure and we introduce two extensions: one that takes into account the weights of the edges in the click graph  and another that takes into account the evidence supporting the similarity between queries. our experimental results show that weighted-based simrank is the overall best method for generating rewrites based on a click graph.
　even though our new schemes were developed and tested for query rewriting based on a click graph  we suspect that the weighted and evidence-based simrank methods could be of use in other applications that exploit bi-partite graphs. we plan to experiment with these schemes in other domains  including collaborative filtering.
